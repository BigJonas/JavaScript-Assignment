<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <!-- Yeah i know you don't like dark mode but so what -->
  <head>
    <title>Home</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">My Website</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/about-me.html">About Me</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/contact-me.html">Contact Me</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="/roi-calculator.html">ROI Calculator</a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://en.wikipedia.org/wiki/Gambling"
                target="_blank"
                >Gambling
              </a>
            </li>
            <li class="nav-item disabled">
              <a class="nav-link disabled" aria-disabled="true"
                >Ahh you cant click this</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <main>
      <div class="container-sm">
        <h1>Return on Investment Calculator</h1>
        <div class="container">
          <div class="row">
            <!-- Investment Input -->
            <div class="col-sm m-1">
              <form>
                <div class="form-group">
                  <label for="rev">Revenue:</label> </br>
                  <input id="rev" class="form-control form-control-lg" type="text" name="rev" value="2000"> </br>
                </div>
                <div class="form-group">
                  <label for="exp">Expenses:</label> </br>
                  <input id="exp" class="form-control form-control-lg" type="text" name="exp" value="500"> </br>  
                </div>
                <div class="form-group">
                  <label for="inv">Initial Investment:</label> </br>
                  <input id="inv" class="form-control form-control-lg" type="text" name="inv" value="800"> </br>
                </div>
              </form>
            </div>
            <!-- Investment Output -->
            <div class="col-sm m-1">
              <h2>Return on Investment</h2>
              <p id="roi">blank</p>
              <button id="calculate-button" type="button" class="btn btn-primary btn-md"> Calculate</button>
            </div>
          </div>
        </div>
      </div>
    </main>
    <!-- Copyright Footer -->
    <footer>
      <div class="mt-4 position-absolute top-1 start-50 translate-middle">
        <p>copyright 2024 - Jonas Garibay</p>
      </div>
    </footer>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
    <script type="text/javascript">
      $(document).ready(function () {
        // Upon document load run investment calculation on initial values
        updateROI();
        $('#calculate-button').click(function () {
          updateROI();
        });
      });

      function updateROI() {
        let revenue = $('#rev').val();
        let expenses = $('#exp').val();
        let investment = $('#inv').val();

        console.log(revenue + ', ' + expenses + ', ' + investment);

        // Investment cannot be 0 or below 0 because divide by zero
        // You also cannot invest negative money
        if (investment <= 0) {
          $('#roi').replaceWith(' <p id="roi"> Investment cannot 0 or below </p>');
          return;
        }

        // Revanue or Expenses should not be negative
        // I think
        if (revenue < 0 || expenses < 0) {
          $('#roi').replaceWith(
            ' <p id="roi"> Revenue or expenses cannot be negative </p>'
          );
          return;
        }

        // Return on investment as a ratio
        let roi = ((revenue - expenses - investment) / investment) * 100;

        $('#roi').replaceWith(' <p id="roi">' + roi + ' </p>');
      }
    </script>
  </body>
</html>
